{"version":3,"file":"index.js","sources":["../src/js/service.js","../src/js/faq.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"http://127.0.0.1:8000/api\";\r\n\r\nexport async function getFaqList() {\r\n  const response = await axios.get(\"/faq/\");\r\n  return response;\r\n}\r\n","import { getFaqList } from \"./service\";\r\n\r\nexport async function fetchFaq() {\r\n  const listContainer = document.querySelector(\".faq-right\");\r\n\r\n  try {\r\n    const response = await getFaqList();\r\n    const data = response.data;\r\n\r\n    if (data.status === 200) {\r\n      if (data.list.length === 0) {\r\n        listContainer.innerHTML = \"<p>Wird gerade bef√ºllt‚Ä¶</p>\";\r\n      } else {\r\n        listContainer.innerHTML = data.list\r\n          .map(\r\n            (faq) =>\r\n              `<div class=\"faq-accordion\">\r\n            <div class=\"spark\"></div>\r\n        <button class=\"faq-accordion-toggle\">\r\n          <h6 class=\"faq-acordion-title\">\r\n            ${faq.question}\r\n          </h6>\r\n\r\n          <div class=\"faq-icon\">\r\n            <svg class=\"faq-icon\" width=\"24\" height=\"24\">\r\n              <use href=\"/img/sprite.svg#icon-plus\"></use>\r\n            </svg>\r\n          </div>\r\n        </button>\r\n        <div class=\"faq-accordion-content\">\r\n          <p>\r\n           ${faq.answer}\r\n          </p>\r\n        </div>\r\n       </div> \r\n         `\r\n          )\r\n          .join(\"\");\r\n        const items = document.querySelectorAll(\".faq-accordion\");\r\n        items.forEach((item, i) => {\r\n          setTimeout(() => {\r\n            item.classList.remove(\"hidden\");\r\n            item.classList.add(\"visible\");\r\n          }, 300 + i * 600);\r\n        });\r\n      }\r\n      animateSpark();\r\n    } else {\r\n      container.innerHTML = `<p style='color: black;'>Fehler: ${json.message}</p>`;\r\n    }\r\n  } catch (error) {\r\n    listContainer.innerHTML =\r\n      \"<p style='color: black;'>Serverfehler, bitte sp√§ter versuchen.</p>\";\r\n  }\r\n}\r\n\r\ndocument.querySelector(\".faq-right\").addEventListener(\"click\", (e) => {\r\n  const toggle = e.target.closest(\".faq-accordion-toggle\");\r\n  if (!toggle) return;\r\n\r\n  const clickedAccordion = toggle.closest(\".faq-accordion\");\r\n  const content = clickedAccordion.querySelector(\".faq-accordion-content\");\r\n  const isOpen = clickedAccordion.classList.contains(\"open\");\r\n\r\n  document.querySelectorAll(\".faq-accordion\").forEach((acc) => {\r\n    acc.classList.remove(\"open\");\r\n    acc.querySelector(\".faq-accordion-content\").style.maxHeight = null;\r\n  });\r\n\r\n  if (!isOpen) {\r\n    clickedAccordion.classList.add(\"open\");\r\n    content.style.maxHeight = content.scrollHeight + \"px\";\r\n  }\r\n});\r\n\r\nconst faqSection = document.getElementById(\"faq\");\r\nconst title = document.querySelector(\".faq-title-h2\");\r\n\r\nconst observer = new IntersectionObserver(\r\n  (entries, obs) => {\r\n    entries.forEach((entry) => {\r\n      if (entry.isIntersecting) {\r\n        fetchFaq();\r\n        title.classList.add(\"visible\");\r\n        obs.unobserve(faqSection);\r\n      }\r\n    });\r\n  },\r\n  { threshold: 0.2 }\r\n);\r\n\r\nobserver.observe(faqSection);\r\n\r\nconst btnRedirect = document.querySelector(\".faq-dark-tag\");\r\nlet count = 0;\r\nconst baseUrl = \"http://localhost:8000\";\r\n\r\nbtnRedirect.addEventListener(\"click\", () => {\r\n  count++;\r\n  console.log(\"üöÄ ~ count:\", count);\r\n  if (count === 5) {\r\n    window.open(`${baseUrl}/admin/faq/faq/`, \"_blank\", \"noopener,noreferrer\");\r\n    count = 0;\r\n  }\r\n});\r\n\r\nlet current = 0;\r\n\r\nexport function animateSpark() {\r\n  const blocks = document.querySelectorAll(\".spark\");\r\n  blocks.forEach((b, i) => b.classList.toggle(\"active\", i === current));\r\n\r\n  setTimeout(() => {\r\n    blocks[current].classList.remove(\"active\");\r\n    current = (current + 1) % blocks.length;\r\n    animateSpark();\r\n  }, 1000);\r\n}\r\n"],"names":["axios","getFaqList","fetchFaq","listContainer","data","faq","item","i","animateSpark","e","toggle","clickedAccordion","content","isOpen","acc","faqSection","title","observer","entries","obs","entry","btnRedirect","count","baseUrl","current","blocks","b"],"mappings":"svBAEAA,EAAM,SAAS,QAAU,4BAElB,eAAeC,GAAa,CAEjC,OADiB,MAAMD,EAAM,IAAI,OAAO,CAE1C,CCLO,eAAeE,GAAW,CAC/B,MAAMC,EAAgB,SAAS,cAAc,YAAY,EAEzD,GAAI,CAEF,MAAMC,GADW,MAAMH,KACD,KAElBG,EAAK,SAAW,KACdA,EAAK,KAAK,SAAW,EACvBD,EAAc,UAAY,+BAE1BA,EAAc,UAAYC,EAAK,KAC5B,IACEC,GACC;AAAA;AAAA;AAAA;AAAA,cAIAA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAWbA,EAAI,MAAM;AAAA;AAAA;AAAA;AAAA,UAKvB,EACW,KAAK,EAAE,EACI,SAAS,iBAAiB,gBAAgB,EAClD,QAAQ,CAACC,EAAMC,IAAM,CACzB,WAAW,IAAM,CACfD,EAAK,UAAU,OAAO,QAAQ,EAC9BA,EAAK,UAAU,IAAI,SAAS,CAC9B,EAAG,IAAMC,EAAI,GAAG,CAClB,CAAC,GAEHC,KAEA,UAAU,UAAY,oCAAoC,KAAK,OAAO,MAE1E,MAAgB,CACdL,EAAc,UACZ,oEACJ,CACF,CAEA,SAAS,cAAc,YAAY,EAAE,iBAAiB,QAAUM,GAAM,CACpE,MAAMC,EAASD,EAAE,OAAO,QAAQ,uBAAuB,EACvD,GAAI,CAACC,EAAQ,OAEb,MAAMC,EAAmBD,EAAO,QAAQ,gBAAgB,EAClDE,EAAUD,EAAiB,cAAc,wBAAwB,EACjEE,EAASF,EAAiB,UAAU,SAAS,MAAM,EAEzD,SAAS,iBAAiB,gBAAgB,EAAE,QAASG,GAAQ,CAC3DA,EAAI,UAAU,OAAO,MAAM,EAC3BA,EAAI,cAAc,wBAAwB,EAAE,MAAM,UAAY,IAChE,CAAC,EAEID,IACHF,EAAiB,UAAU,IAAI,MAAM,EACrCC,EAAQ,MAAM,UAAYA,EAAQ,aAAe,KAErD,CAAC,EAED,MAAMG,EAAa,SAAS,eAAe,KAAK,EAC1CC,EAAQ,SAAS,cAAc,eAAe,EAE9CC,EAAW,IAAI,qBACnB,CAACC,EAASC,IAAQ,CAChBD,EAAQ,QAASE,GAAU,CACrBA,EAAM,iBACRlB,IACAc,EAAM,UAAU,IAAI,SAAS,EAC7BG,EAAI,UAAUJ,CAAU,EAE5B,CAAC,CACH,EACA,CAAE,UAAW,EAAG,CAClB,EAEAE,EAAS,QAAQF,CAAU,EAE3B,MAAMM,EAAc,SAAS,cAAc,eAAe,EAC1D,IAAIC,EAAQ,EACZ,MAAMC,EAAU,wBAEhBF,EAAY,iBAAiB,QAAS,IAAM,CAC1CC,IACA,QAAQ,IAAI,cAAeA,CAAK,EAC5BA,IAAU,IACZ,OAAO,KAAK,GAAGC,CAAO,kBAAmB,SAAU,qBAAqB,EACxED,EAAQ,EAEZ,CAAC,EAED,IAAIE,EAAU,EAEP,SAAShB,GAAe,CAC7B,MAAMiB,EAAS,SAAS,iBAAiB,QAAQ,EACjDA,EAAO,QAAQ,CAACC,EAAGnB,IAAMmB,EAAE,UAAU,OAAO,SAAUnB,IAAMiB,CAAO,CAAC,EAEpE,WAAW,IAAM,CACfC,EAAOD,CAAO,EAAE,UAAU,OAAO,QAAQ,EACzCA,GAAWA,EAAU,GAAKC,EAAO,OACjCjB,GACF,EAAG,GAAI,CACT"}